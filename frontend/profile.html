<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile | E & F Hub</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>

    <!-- 1. GLOBAL NAVIGATION (Consistent) -->
    <header class="glass-nav sticky">
        <div class="container nav-wrapper">
            <div class="brand" onclick="window.location.href='index.html'">
                <div class="bento-logo">
                    <span class="sq"></span><span class="sq"></span>
                    <span class="sq"></span><span class="sq"></span>
                </div>
                <div class="brand-text">
                    <h1>E & F Hub</h1>
                    <span class="tagline">Boys' Dormitory Portal</span>
                </div>
            </div>
            <nav class="nav-links">
                <a href="index.html" class="nav-item active" id="homeTrigger">Home</a>
                <a href="marketplace.html" class="nav-item">Marketplace</a>
                <a href="services.html" class="nav-item">Services</a>
                <a href="add-product.html" class="nav-item">Post Listing</a>
            </nav>
            <div class="nav-actions">
                <div class="search-input">
                    <i data-lucide="search"></i>
                    <input type="text" placeholder="Search...">
                </div>
                <div class="profile-trigger active-profile">
                    <img src="https://ui-avatars.com/api/?name=User+Name&background=4f46e5&color=fff" alt="Profile" class="avatar-sm">
                </div>
            </div>
        </div>
    </header>

    <!-- ON-DEMAND BREADCRUMB BOX (Consistent) -->
    <section class="breadcrumb-bar" id="breadcrumbBar">
        <nav class="breadcrumbs">
            <a href="index.html"><i data-lucide="home"></i> Home</a>
            <span class="sep"><i data-lucide="chevron-right"></i></span>
            <span class="current">My Profile</span>
        </nav>
    </section>

    <!-- 2. PROFILE DASHBOARD -->
    <main class="container main-layout">
        
        <!-- Left Sidebar: User Identity -->
        <aside class="sidebar">
            <div class="profile-card-main">
                <div class="avatar-large-wrapper">
                    <img src="https://ui-avatars.com/api/?name=User+Name&background=4f46e5&color=fff" alt="User" class="avatar-lg">
                    <span class="online-status"></span>
                </div>
                <h2 class="user-name">Ariff Syahmi</h2>
                <p class="user-room"><i data-lucide="map-pin"></i> Blok E, Room 302</p>
                <div class="trust-score">
                    <i data-lucide="shield-check"></i>
                    <span>98% Trust Score</span>
                </div>
                <button class="btn btn-dark w-100" style="margin-top: 20px;">Edit Profile</button>
            </div>

            <!-- New Feature: Trust Badges -->
            <div class="filter-group" style="margin-top: 30px;">
                <h4>Badges Earned</h4>
                <div class="badge-shelf">
                    <div class="t-badge" title="Early Bird Seller"><i data-lucide="sun"></i></div>
                    <div class="t-badge" title="Trusted Service Provider"><i data-lucide="award"></i></div>
                    <div class="t-badge" title="Quick Responder"><i data-lucide="zap"></i></div>
                </div>
            </div>
        </aside>

        <!-- Right Content: Tabs & History -->
        <section class="content-area">
            <div class="profile-tabs">
                <button class="tab-btn active">My Listings</button>
                <button class="tab-btn">Services Offered</button>
                <button class="tab-btn">Vouches (14)</button>
            </div>

            <div class="tab-content" id="myListings">
                <div class="section-header">
                    <h3>Active Items</h3>
                    <button class="btn btn-primary btn-sm">+ Add New</button>
                </div>
                
                <!-- Compact Listing View -->
                <div class="profile-list-item">
                    <div class="item-img skeleton"></div>
                    <div class="item-details">
                        <h4>Calculus 1 Textbook</h4>
                        <p>RM 35.00 • Posted 2 days ago</p>
                    </div>
                    <div class="item-actions">
                        <button class="icon-btn"><i data-lucide="edit-3"></i></button>
                        <button class="icon-btn delete"><i data-lucide="trash-2"></i></button>
                    </div>
                </div>

                <div class="profile-list-item">
                    <div class="item-img skeleton"></div>
                    <div class="item-details">
                        <h4>Gaming Mouse (Logitech)</h4>
                        <p>RM 80.00 • Posted 5 days ago</p>
                    </div>
                    <div class="item-actions">
                        <button class="icon-btn"><i data-lucide="edit-3"></i></button>
                        <button class="icon-btn delete"><i data-lucide="trash-2"></i></button>
                    </div>
                </div>
            </div>

            <!-- New Feature: The Vouch System (Social Proof) -->
            <div class="tab-content" style="margin-top: 40px;">
                <div class="section-header">
                    <h3>Vouches from the Boys</h3>
                </div>
                <div class="vouch-grid">
                    <div class="vouch-card">
                        <div class="vouch-header">
                            <img src="https://ui-avatars.com/api/?name=Farhan&background=random" class="avatar-xs">
                            <strong>Farhan (F210)</strong>
                            <span class="vouch-tag">Trusted</span>
                        </div>
                        <p>"Quick delivery to my room. Item condition 10/10. Recommended!"</p>
                    </div>
                    <div class="vouch-card">
                        <div class="vouch-header">
                            <img src="https://ui-avatars.com/api/?name=Ziq&background=random" class="avatar-xs">
                            <strong>Ziq (E105)</strong>
                            <span class="vouch-tag">Good Service</span>
                        </div>
                        <p>"Printing quality is sharp and cheap. Saved my assignment."</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 3. FOOTER (Consistent) -->
    <footer class="monolith-footer">
        <div class="container footer-grid">
            <div class="footer-col">
                <h2 style="color: white; margin-bottom: 10px;">E & F Hub</h2>
                <p style="opacity: 0.7;">The exclusive portal for students of Blok E and Blok F.</p>
            </div>
            <div class="footer-col">
                <h4>Quick Links</h4>
                <a href="#">Contact Support</a>
                <a href="#">Campus Safety</a>
                <a href="#">Terms of Service</a>
            </div>
            <div class="footer-col">
                <h4>Emergency Contacts</h4>
                <p>Security Office: +6012-3456789</p>
                <p>Dorm Manager: +6012-9876543</p>
            </div>
        </div>
    </footer>

    <script>
        lucide.createIcons();

const homeTrigger = document.getElementById('homeTrigger');
const breadcrumbBar = document.getElementById('breadcrumbBar');
let hideTimeout;

// 1. When mouse enters HOME link
homeTrigger.addEventListener('mouseenter', () => {
    clearTimeout(hideTimeout); // Cancel any scheduled hiding
    breadcrumbBar.classList.add('is-visible');
});

// 2. When mouse leaves HOME link
homeTrigger.addEventListener('mouseleave', () => {
    // Wait 200ms before hiding (gives time to move mouse to the box)
    hideTimeout = setTimeout(() => {
        breadcrumbBar.classList.remove('is-visible');
    }, 200);
});

// 3. When mouse enters the BREADCRUMB BOX
breadcrumbBar.addEventListener('mouseenter', () => {
    clearTimeout(hideTimeout); // Stay open while mouse is inside the box
});

// 4. When mouse leaves the BREADCRUMB BOX
breadcrumbBar.addEventListener('mouseleave', () => {
    breadcrumbBar.classList.remove('is-visible');
});
    </script>
</body>
</html>